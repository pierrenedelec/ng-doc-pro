
<div class="fixed inset-0 bg-black/30 z-40" (click)="onClose()"></div>

<div class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-xl shadow-2xl w-full max-w-md z-50">
  <div class="p-6 border-b border-slate-200">
    <h3 class="text-lg font-semibold text-slate-800">Edit {{ widgetName() }}</h3>
    <p class="text-sm text-slate-500">Customize the properties of your component.</p>
  </div>
  
  <div class="p-6 space-y-4">
    @switch (widget().type) {
      @case ('button') {
        <div>
          <label for="button-text" class="block text-sm font-medium text-slate-700 mb-1">Button Text</label>
          <input type="text" id="button-text" [(ngModel)]="editableProps['text']" class="w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
      }
      @case ('input') {
        <div>
          <label for="input-placeholder" class="block text-sm font-medium text-slate-700 mb-1">Placeholder</label>
          <input type="text" id="input-placeholder" [(ngModel)]="editableProps['placeholder']" class="w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
      }
      @case ('badge') {
        <div>
          <label for="badge-text" class="block text-sm font-medium text-slate-700 mb-1">Badge Text</label>
          <input type="text" id="badge-text" [(ngModel)]="editableProps['text']" class="w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
      }
       @case ('radio') {
        <div>
          <label for="radio-label" class="block text-sm font-medium text-slate-700 mb-1">Label</label>
          <input type="text" id="radio-label" [(ngModel)]="editableProps['label']" class="w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
      }
      @case ('slider') {
        <div>
          <label for="slider-label" class="block text-sm font-medium text-slate-700 mb-1">Label</label>
          <input type="text" id="slider-label" [(ngModel)]="editableProps['label']" class="w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
      }
      @case ('avatar') {
        <div>
          <label for="avatar-src" class="block text-sm font-medium text-slate-700 mb-1">Image URL</label>
          <input type="text" id="avatar-src" [(ngModel)]="editableProps['src']" class="w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
      }
      @case ('container') {
        <div>
          <label for="container-label" class="block text-sm font-medium text-slate-700 mb-1">Label</label>
          <input type="text" id="container-label" [(ngModel)]="editableProps['label']" class="w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
      }
      @case ('chart') {
        <div>
          <label for="chart-data" class="block text-sm font-medium text-slate-700 mb-1">Chart Data (comma-separated)</label>
          <textarea id="chart-data" [(ngModel)]="editableProps['data']" class="w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" rows="3"></textarea>
        </div>
      }
      @default {
        <p class="text-sm text-slate-500">This component has no editable properties.</p>
      }
    }
  </div>

  <div class="px-6 py-4 bg-slate-50/50 flex justify-end gap-3 rounded-b-xl">
    <button (click)="onClose()" class="px-4 py-2 bg-white text-slate-700 border border-slate-300 rounded-md hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2">Cancel</button>
    <button (click)="onSave()" class="px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">Save Changes</button>
  </div>
</div>
